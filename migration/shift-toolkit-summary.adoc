---
sidebar: sidebar 
permalink: migration/shift-toolkit-summary.html 
keywords: netapp, vmware, esxi, vm, migration, openshift, virtualization, hyper-v, proxmox 
summary:  
---
= 使用 Shift Toolkit 轉換或遷移虛擬機器後的後續步驟
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
使用 Shift Toolkit 轉換或遷移虛擬機器後，請查看關鍵的遷移後任務以驗證新環境。您可以使用詳細的範例來驗證系統健康狀況、執行清理步驟以及排除常見問題。



== 結論

NetApp Shift 工具包可協助管理員快速無縫地將虛擬機器從 VMware 轉換為 Hyper-V。它還可以在不同的虛擬機器管理程式之間轉換虛擬磁碟。因此，每次您想要將工作負載從一個虛擬機器管理程式移至另一個虛擬機器管理程式時，Shift 工具包都可以為您節省數小時的精力。組織現在可以託管多虛擬機器管理程式環境，而不必擔心工作負載是否綁定到單一虛擬機器管理程式。此功能提高了靈活性並降低了許可成本、鎖定和對單一供應商的承諾。



== 後續步驟

透過下載 Shift 工具包釋放Data ONTAP的潛力並開始遷移或轉換虛擬機器或磁碟檔案以簡化和最佳化遷移。

要了解有關此過程的更多信息，請隨意遵循詳細的演練：

.Shift Toolkit 演練
video::6bf11896-3219-4ba7-9a00-b2d800d47144[panopto,width=360]


== 故障排除和已知問題

. 用於設定 IP 位址和刪除 VMware 工具的觸發腳本在 Windows VM 上失敗，並出現下列錯誤：憑證無效
+
[listing]
----
Error message:

Enter-PSSession : The credential is invalid.

Potential causes:

The guest credentials couldn't be validated

a. The supplied credentials were incorrect
b. There are no user accounts in the guest
----
. Windows 虛擬機器遇到 BSOD 錯誤
+
*注意：*這不是 Shift 工具包的問題，而是與環境有關。

+
[listing]
----
Error message:

Bluescreen error during initial boot after migration.

Potential cause:

Local group policy setup to block the installation of applications including new drivers for Microsoft Hyper-V.

a. Update the policy to allow installation of drivers.
----
. 嘗試建立資源組時未列出資料存儲
+
[listing]
----
Error message:

Mount paths are empty while getting volumes for mountpaths for site.

Potential causes:

The NFS volume used as a datastore is using v4.1

a. Shift toolkit filters out NFS v3 datastores during the resource group creation. NFS 4.1 or 4.2 is not supported in the current release.
----
. 啟用 SSL 後無法存取 Shift 工具包 UI。
+
[listing]
----
Error message:

Login failed, Network error

Potential causes:

MongoDB service not running
Using Firefox browser to access Shift UI

a. Ensure Mongo service is running
b. Use Google Chrome or IE to access Shift UI.
----
. 無法遷移啟用了加密的虛擬機器。
+
[listing]
----
Error message:

Boot failure on Hyper-V side

Potential causes:

VMDK encrytped using vSphere encryption

a. Decrypt the VMDK inside VMware and retry the operation.
----




== 附錄



=== Shift 工具包的自訂ONTAP角色

建立具有最小權限的ONTAP角色，這樣就無需使用ONTAP管理員角色在 Shift 工具包中執行操作。  ONTAP儲存端的 SVM 等級需要這些最低角色。


NOTE: vsadmin 也可以使用。

image:shift-toolkit-084.png["此圖顯示輸入/輸出對話框或表示書面內容"]

使用ONTAP系統管理員建立角色。

在ONTAP系統管理員中執行下列步驟：

*建立自訂角色：*

* 若要在 SVM 層級建立自訂角色，請選擇「儲存」>「儲存虛擬機器」>「所需的 SVM」>「設定」>「使用者和角色」。
* 選擇「使用者和角色」旁的箭頭圖示 (→)。
* 在角色下選擇 +新增。
* 定義角色的規則並按一下儲存。


*將角色對應到 Shift 工具包使用者：*

在「使用者和角色」頁面上執行以下步驟：

* 選擇“使用者”下的“新增圖示 +”。
* 選擇所需的使用者名，並在角色的下拉式選單中選擇上一個步驟所建立的角色。
* 按一下「Save（儲存）」。


完成後，在 Shift 工具包 UI 中配置來源站點和目標站點時使用上面建立的使用者。



=== VMware 上所需的最低權限角色

若要使用 Shift 工具包從 VMware vSphere 遷移虛擬機，請使用管理 > 存取控制 > 角色建立具有下列權限的 RBAC 使用者。

選擇“權限”選項卡：

[listing]
----
Datastore
•	Browse datastore
•	Update virtual machine files

Virtual machine
•	Edit inventory
    o	Register
    o	Unregister
•	Interaction
    o	Answer question
    o	Console interaction
    o	Power off
    o	Power on
•	Snapshot management
    o	Create snapshot
    o	Remove snapshot
    o	Rename snapshot
•	Guest operations
    o	Guest operation modifications
    o	Guest operation program execution
    o	Guest operation queries
----